<?php
/*
 ============================================================================================================
 + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 + Cerberus Content Management System
 + ----------------------------------------------------------------------------------------------------------
 + - Author			 : Gary Christopher Johnson of Oildale and SouthGate In Southern California
 + - Company			 : CerberusCMS, Free and Open Source Software
 + - Company Address		 : Oildale In Southern California, United States of America
 + - Electronic Mail Address	 : CerberusCMS2@Proton.me
 + - Document Notes		 : View this file in a non-formatting text editor without word-wrap for the
 +				 : correct display of this programming code and its indentation.
 + ----------------------------------------------------------------------------------------------------------
 +    ()  ()  ()
 +  ()  ()  ()
 +  ------------------------------
 +  Application Module
 + ----------------------------------------------------------------------------------------------------------
 + - This File, Location	 : Root Directory => Applications => Member => Media_Player
 + - This File, Version		 : 0.7.3
 + - This File, Programming Code : Pure Pre-Hyper-Text-Post-Processor
 + - Programming Code Model	 : Procedural, Functional, Object Oriented :: Pre-Order Algebraic
 + -				 :					   :: Pre-Order Logical
 + - Compatibility		 : Extensible-Markup-Language		   :: Version Numbers: 1, 1.1
 + - Compatibility		 : Hyper-Text-Markup-Language		   :: Version Numbers: 1, 2, 3, 4, 5
 + - Compatibility		 : Pre-Hyper-Text-Post-Processor 	   :: Version Numbers: 5, 7, 8
 + - Compatibility		 : Zend Engine				   :: Version Numbers: 3, 4
 + - Official Release Date	 : Monday, May 13th of 2024
 + ----------------------------------------------------------------------------------------------------------
 + -------------------------------------------------------------------------------	 - Nyx -
 + --[][]--[][][]--[][][]--[][][]---[][][]--[][][]--[]--[]------[][][]------------   []++++||=======>
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]----------------
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]----------------    |'-._/\_.-'|
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]----------------    |    []    |
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]----------------    |___-[]-___|
 + -[]-----[][][]--[][][]--[][][]---[][][]--[][][]--[]--[]------[]----------------    |__((**))__|
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]----------------    \   -[]-   /
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]------------/-\-     \   []   /
 + -[]-----[]------[]--[]--[]---[]--[]------[]--[]--[]--[]------[]---VERSION--|4|-	\  []  /
 + --[][]--[][][]--[]--[]--[][][]---[][][]--[]--[]--[][][]--[][][]------------\-/-	 '.[].'
 + -------------------------------------------------------------------------------
 + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Build Number: 44 - Final
 + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Edit Number : 4,559
 ============================================================================================================
*/

/*
 ============================================================================================================
 +
 +
 +
 + [ ^ ] Application Module :: Member :: Media Player
 +
 +
 +
 ============================================================================================================
*/

/*
 ============================================================================================================
 + Application Module Header
 ============================================================================================================
*/

											echo ($_Application_Module_Member_Message_Media_Player_Header);

echo ("
<BR>

<HR>

	<CENTER> :: <A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;DisplayVideo&#61;URL&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" TITLE=\":: Display :: Video Stream :: From :: Uniform-Resource-Location ::\">Display Video From URL</A>
		 :: <A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;DisplayVideo&#61;FileName&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" TITLE=\":: Display :: Video Stream :: From :: Video File ::\">Display Video From Video File</A> 
		 :: <A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;PlayAudioStream&#61;FileName&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" TITLE=\":: Play :: Audio Stream :: From File ::\">Play Audio From Audio File</A> 
		 :: <A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;PlayAudioStream&#61;URL&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" TITLE=\":: Play :: Audio Stream :: From :: Uniform-Resource-Location ::\">Play Audio From URL</A> ::
		 :: <A HREF=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;Upload&#61;Media&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" TITLE=\":: Upload :: Media ::\">Upload Media</A> ::
</CENTER><HR><BR><BR>
");

/*
 ============================================================================================================
 +
 + Variables :: POST Variables
 +
 ============================================================================================================
*/

/*
 ============================================================================================================
 + Video :: Uniform-Resource-Location
 ============================================================================================================
*/

$_Application_Module_Media_Player_POST_VIDEO_URL							= $_POST['AMM_Media_Player_Video_URL'];

/*
 ============================================================================================================
 + Video :: File
 ============================================================================================================
*/

$_Application_Module_Media_Player_POST_VIDEO_FILE_NAME							= $_POST['AMM_Media_Player_Video_File_Name'];

/*
 ============================================================================================================
 + Audio Stream URL
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_POST_AUDIO_URL							= $_POST['AMM_Media_Player_Play_Audio_URL'];

/*
 ============================================================================================================
 + Audio Stream File
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_POST_AUDIO_FILE_NAME						= $_POST['AMM_Media_Player_Play_Audio_File_Name'];

/*
 ============================================================================================================
 + Upload :: Media
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_POST_UPLOAD_FILE_AUDIO						= $_POST['AMM_Media_Player_Upload_File_Audio'];

/*
 ============================================================================================================
 + Upload Size Limit
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_MAXIMUM_UPLOAD_LIMIT_FILE_AUDIO				= $_GLOBAL_SYSTEM_UPLOAD_SIZE_PUBLIC_MEDIA_PLAYER_AUDIO / 1024;
$_Application_Module_Member_Media_Player_MAXIMUM_UPLOAD_LIMIT_FILE_VIDEO				= $_GLOBAL_SYSTEM_UPLOAD_SIZE_PUBLIC_MEDIA_PLAYER_VIDEO / 1024;

/*
 ============================================================================================================
 + File Upload Details
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_DIRECTORY_AUDIO				= "./Temporary/";
$_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_AUDIO					= $_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_DIRECTORY_AUDIO . basename($_FILES['AMM_Media_Player_Upload_File_Audio']['name']);

/*
 ============================================================================================================
 + Allowed File Extensions
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO					= array();
$_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO[0]				= "mp3";
$_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO[1]				= "wma";
$_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO[2]				= "flac";
$_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO[3]				= "ogg";

/*
 ============================================================================================================
 + File Data Specifications
 ============================================================================================================
*/

$_Application_Module_Member_Media_Player_FILE_PATHINFO_FILE_AUDIO					= pathinfo($_FILES['AMM_Media_Player_Upload_File_Audio']['name']);
$_Application_Module_Member_Media_Player_EXTENSION_FILE_AUDIO 						= $_Application_Module_Member_Media_Player_FILE_PATHINFO_FILE_AUDIO['extension'];
$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO						= $_Application_Module_Member_Media_Player_FILE_PATHINFO_FILE_AUDIO['basename'];

$_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_EXTENSION_TYPE_AUDIO			= pathinfo($_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO, PATHINFO_EXTENSION);

/*
 ============================================================================================================
 +
 + IF: Internal Application: Display :: Video Stream :: From Uniform-Resource-Location
 +
 ============================================================================================================
*/

if ($_GET["DisplayVideo"] == "URL") {

/*
 ============================================================================================================
 + IF: Internal Application: Display :: Video Stream :: Input Form :: Variables :: HAVE NOT Executed, Display :: Input Form
 ============================================================================================================
*/

if (!$_Application_Module_Media_Player_POST_VIDEO_URL) {

echo ("
											<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;DisplayVideo&#61;URL&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" METHOD=\"POST\">
												Video Stream :: File :: Uniform-Resource-Location<BR>
												<TEXTAREA ROWS=\"15\" COLS=\"75\" MAXLENGTH=\"2000\" NAME=\"AMM_Media_Player_Video_URL\">Paste Video Uniform-Resource-Location Here...</TEXTAREA><BR>
												<INPUT TYPE=\"submit\" VALUE=\"Submit Video URL\"><BR>
											</FORM>
");

} else {

echo ("
											<CENTER><IFRAME SRC=\"$_Application_Module_Media_Player_POST_VIDEO_URL\" WIDTH=\"80%\" HEIGHT=\"350\"></IFRAME></CENTER>
");

} // [ + ] IF: Display :: Video Stream :: From :: Uniform-Resource-Location Embedded :: Input Form :: Variables HAVE Executed

} // [ + ] IF: Internal Application: Display Video By Uniform-Resource-Location Embedded Is Activated

/*
 ============================================================================================================
 +
 + IF: Internal Application: Display :: Video Stream :: From Video File
 +
 ============================================================================================================
*/

if ($_GET["DisplayVideo"] == "FileName") {

/*
 ============================================================================================================
 + IF: Internal Application: Display :: Video Stream :: Input Form :: Variables :: HAVE NOT Executed, Display :: Input Form
 ============================================================================================================
*/

if (!$_Application_Module_Media_Player_POST_VIDEO_FILE_NAME) {

echo ("
											<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;DisplayVideo&#61;FileName&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" METHOD=\"POST\">
												Video Stream :: Uniform-Resource-Location<BR>
												<TEXTAREA ROWS=\"15\" COLS=\"75\" MAXLENGTH=\"2000\" NAME=\"AMM_Media_Player_Video_File_Name\">Paste Video File Name Uniform-Resource-Location Here...</TEXTAREA><BR>
												<INPUT TYPE=\"submit\" VALUE=\"Submit Video File Name\"><BR>
											</FORM>
");

} else {

echo ("
											<CENTER>
												<VIDEO WIDTH=\"80%\" HEIGHT=\"350\" CONTROLS>
													<SOURCE SRC=\"$_Application_Module_Media_Player_POST_VIDEO_FILE_NAME\" TYPE=\"VIDEO/MP4\">
												</VIDEO>
											</CENTER>
");

} // [ + ] IF: Internal Application: Display :: Video Stream :: From :: Local Or Remote File :: Input Form :: Variables HAVE Executed

} // [ + ] IF: Internal Application: Display :: Video Stream :: From :: Local Or Remote File :: Is: Activated

/*
 ============================================================================================================
 +
 + IF: Internal Application: Play :: Audio Stream :: From Uniform-Resource-Location
 +
 ============================================================================================================
*/

if ($_GET["PlayAudioStream"] == "URL") {

/*
 ============================================================================================================
 + IF: Internal Application: Play :: Audio Stream :: Input Form :: Variables :: HAVE NOT Executed, Display :: Input Form
 ============================================================================================================
*/

if (!$_Application_Module_Member_Media_Player_POST_AUDIO_URL) {

echo ("
											<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;PlayAudioStream&#61;URL&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" METHOD=\"POST\">
												Audio Stream :: Uniform-Resource-Location<BR>
												<TEXTAREA ROWS=\"15\" COLS=\"75\" MAXLENGTH=\"2000\" NAME=\"AMM_Media_Player_Play_Audio_URL\">Paste Audio Stream Uniform-Resource-Location String Here...</TEXTAREA><BR>
												<INPUT TYPE=\"submit\" VALUE=\"Submit Audio URL Stream\"><BR>
											</FORM>
");

} else {

echo ("
											<CENTER>
												<AUDIO CONTROLS>
													<SOURCE SRC=\"$_Application_Module_Member_Media_Player_POST_AUDIO_URL\" TYPE=\"AUDIO/MPEG\">
											</CENTER>
");

} // [ + ] IF: Internal Application: Play :: Audio Stream :: Input Form :: Variables :: HAVE Executed

} // [ + ] IF: Internal Application: Play :: Audio Stream :: From :: Uniform-Resource-Location :: Is: Activated

/*
 ============================================================================================================
 +
 + Internal Application: Play :: Audio Stream :: From Audio File
 +
 ============================================================================================================
*/

if ($_GET["PlayAudioStream"] == "FileName") {

/*
 ============================================================================================================
 + IF: Internal Application: Play :: Audio Stream :: Input Form :: Variables :: HAVE NOT Executed, Display :: Input Form
 ============================================================================================================
*/

if (!$_Application_Module_Member_Media_Player_POST_AUDIO_FILE_NAME) {

echo ("
											<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;PlayAudioStream&#61;FileName&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" METHOD=\"POST\">
												Audio Stream :: File :: Uniform-Resource-Location<BR>
												<TEXTAREA ROWS=\"15\" COLS=\"75\" MAXLENGTH=\"2000\" NAME=\"AMM_Media_Player_Play_Audio_File_Name\">Paste Audio Stream File Name Uniform-Resource-Location String Here...</TEXTAREA><BR>
												<INPUT TYPE=\"submit\" VALUE=\"Submit Audio File Stream\"><BR>
											</FORM>
");

} else {

echo ("
											<CENTER>
												<AUDIO CONTROLS>
													<SOURCE SRC=\"$_Application_Module_Member_Media_Player_POST_AUDIO_FILE_NAME\" TYPE=\"AUDIO/MPEG\">
											</CENTER>
");

} // [ + ] IF: Internal Application: Play :: Audio Stream :: From File :: Input Form :: Variables :: HAVE Executed

} // [ + ] IF: Internal Application: Play :: Audio Stream :: From File :: Is: Activated

/*
 ============================================================================================================
 +
 + IF: Internal Application: Display :: Video Stream :: From Uniform-Resource-Location
 +
 ============================================================================================================
*/

if ($_GET["Upload"] == "Media") {

/*
 ============================================================================================================
 +
 + IF: Upload :: Media :: Audio
 +
 ============================================================================================================
*/

if ((!$_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_EXTENSION_TYPE_AUDIO)) {

echo ("
											<FORM ACTION=\"?$_INTERNAL_APPLICATION_MODULE_MEMBER&#61;Media_Player&amp;Upload&#61;Media&amp;$_GLOBAL_SYSTEM_SECURITY_CACHE_CIRCUMVENTION_HTR_RANDOM_STRING_GENERATION\" METHOD=\"post\" ENCTYPE=\"multipart/form-data\">
												* Media :: File :: Audio File:<BR>
												[ Maximum Audio File Name Length: 50 Characters ]<BR>
													<INPUT TYPE=\"file\" name=\"AMM_Media_Player_Upload_File_Audio\"><BR>
												<INPUT TYPE=\"submit\" VALUE=\"Upload Media\">
											</FORM><BR>
											Maximum File Size :: Audio File :: In Kilo-BITS :: File: $_Application_Module_Member_Media_Player_MAXIMUM_UPLOAD_LIMIT_FILE_AUDIO<BR>
");

} else {

/*
 ============================================================================================================
 + Move Files To Temporary Directory
 ============================================================================================================
*/

if (move_uploaded_file($_FILES['AMM_Media_Player_Upload_File_Audio']['tmp_name'], $_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_AUDIO)) {

											echo ("* Message: Success !<BR>");

} else {

											echo ("* Message: Error !<BR>");

} // [ + ] IF: Move Uploaded File: Audio File

/*
 ============================================================================================================
 + Check And Prepare Files
 ============================================================================================================
*/

if (in_array($_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_EXTENSION_TYPE_AUDIO, $_Application_Module_Member_Media_Player_ALLOWED_FILE_EXTENSIONS_AUDIO)) {

$_Application_Module_Member_Media_Player_PREPARE_FILE_AUDIO				= "1";

} // [ + ] IF: File Extension Is In Allowed File Extension Array

											echo ("* Message: Checking The Audio File...<BR>");

/*
 ============================================================================================================
 + If Files Are Allowed
 ============================================================================================================
*/

if ($_Application_Module_Member_Media_Player_PREPARE_FILE_AUDIO == "1") {

/*
 ============================================================================================================
 + Check For Existing File Names
 ============================================================================================================
*/

if (file_exists("./Upload/Audio/Music/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO")) {

											echo ("* Message: This Audio File Already Exists !");

											unlink("./Temporary/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO");

} else {

/*
 ============================================================================================================
 + Check For File Sizes
 ============================================================================================================
*/

if (filesize($_Application_Module_Member_Media_Player_SPECIFY_UPLOAD_FILE_AUDIO) > $_Application_Module_Member_Media_Player_MAXIMUM_UPLOAD_LIMIT_FILE_AUDIO)) {

											unlink("./Temporary/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO");

											echo ("* Message: This Audio File Exceeds The Allowed File Size.. Deleteing Now.<BR>");

} else {


/*
 ============================================================================================================
 + Files Are Cleared, Move Permanently
 ============================================================================================================
*/

											copy("./Temporary/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO","./Upload/Audio/Music/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO");

											unlink("./Temporary/$_Application_Module_Member_Media_Player_BASENAME_FILE_AUDIO");
}

}

}

} // [ + ] IF: Internal Application: Upload :: Media :: Is: Activated
?>
